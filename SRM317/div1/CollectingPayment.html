<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
You are working for a foreign company, doing your job remotely via the web.  Each time you deliver a task, a payment is added to your work account.  Anytime you want, you can ask the company to send you a check for your accumulated earnings, but a fixed <b>fee</b> is deducted from each check.  You will only ask for checks when your accumulated earnings are greater than or equal to <b>fee</b>.  When you ask for a check, the payments for tasks that are delivered on that same day will be included.  Checks arrive the same day that you request them, and they arrive before the bank closes, so you can deposit them into your bank account the same day.
</p><p>
The bank is open during the day every single day of the year.  Every Sunday night, after closing time, interest is added to your bank account in the amount of A*<b>rate</b>/1000, where A is the amount of money that was in your account at closing time.  Day 1 is a Sunday, so interest may be added to your bank account at the end of day 1, 8, 15, ..., 358, and 365.  At the beginning of day 1, your bank account has no money.
</p><p>
You are given two vector &lt;int&gt;s, <b>earning</b> and <b>moment</b>.  The i<sup>th</sup> element of <b>earning</b> specifies the payment you will receive for the i<sup>th</sup> task, and the i<sup>th</sup> element of <b>moment</b> is the day of the year (between 1 and 365) when you will deliver the i<sup>th</sup> task. You will also be given two ints <b>fee</b> and <b>rate</b> as described above. You must develop a strategy (deciding when to ask for your checks) that maximizes the amount of money you will have in your bank account after interest is added at the end of day 365.  Return this maximum amount.
</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>CollectingPayment</td></tr><tr><td>Method:</td><td>maximumProfit</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;, vector &lt;int&gt;, int, int</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double maximumProfit(vector &lt;int&gt; earning, vector &lt;int&gt; moment, int fee, int rate)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>At the end of the year, you may have some leftover earnings in your work account.  See example 4.</td></tr><tr><td align="center" valign="top">-</td><td>The returned value must be accurate to within a relative or absolute value of 1E-9.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>earning</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>moment</b> and <b>earning</b> will contain the same number of elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>earning</b> will be between 1 and 1000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>moment</b> will be between 1 and 365, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>The elements of <b>moment</b> will be sorted in strictly ascending order (no repeated elements).</td></tr><tr><td align="center" valign="top">-</td><td><b>fee</b> will be between 0 and 1000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>rate</b> will be between 0 and 100, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{300,290,320,150}</pre></td></tr><tr><td><pre>{120,124,200,202}</pre></td></tr><tr><td><pre>40</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1325.1174146859212</pre></td></tr><tr><td><table><tr><td colspan="2">One possible optimal strategy in this case is to ask for checks on days 125 and 203. In this case, your first check will be worth 550 (because it contains payments for your first two tasks less the fee: 300+290-40=550). On day 127 your bank account will be increased by 550*10/1000=5.5, getting to 555.5. After that, it will continue growing for another 10 Sundays, the last one being 197, getting to day 202 with 613.62 (approximately). On day 203 you deposit your check for 430 (320+150-40) and then your account is increased to 1043.62. On day 204 it will increase by 1043.62*10/1000, getting to 1054.05. From then on, it will increase another 23 times, the last one being on day 365.<br></br>
NOTE: All these partial results are rounded to only 2 digits, and therefore, lack precision. The final result reported, on the other hand, is precise.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{300,290,320,150}</pre></td></tr><tr><td><pre>{1,122,243,365}</pre></td></tr><tr><td><pre>40</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1240.733092976253</pre></td></tr><tr><td><table><tr><td colspan="2">In this case, it is better to take a check for each payment to take advantage of the bank interest rate, because the times for payments are spread across the year.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{300,290,320,150}</pre></td></tr><tr><td><pre>{1,122,243,365}</pre></td></tr><tr><td><pre>200</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: 868.6</pre></td></tr><tr><td><table><tr><td colspan="2">With such a big fee, it's preferable to wait until the end of the year and have all your payments sent together.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{150}</pre></td></tr><tr><td><pre>{365}</pre></td></tr><tr><td><pre>50</pre></td></tr><tr><td><pre>100</pre></td></tr></table></td></tr><tr><td><pre>Returns: 110.0</pre></td></tr><tr><td><table><tr><td colspan="2">You deposit right on time to get a 10% reward from the bank.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1000,1}</pre></td></tr><tr><td><pre>{155,365}</pre></td></tr><tr><td><pre>100</pre></td></tr><tr><td><pre>100</pre></td></tr></table></td></tr><tr><td><pre>Returns: 17274.90824619758</pre></td></tr><tr><td><table><tr><td colspan="2">Here you should try to deposit the 1000 payment as fast as possible because of the high rate. Note that you will not request a check for the last payment because it is less than the fee.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,346,7,346,345,3,453,5,346,3}</pre></td></tr><tr><td><pre>{1,2,7,34,74,163,200,250,352,360}</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>0</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1855.0</pre></td></tr><tr><td><table><tr><td colspan="2">With no fee and no interest rate, it doesn't matter when you ask for the checks.  As long as you collect every payment, your resulting balance will be equal to the sum of the payments.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">6)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,346,7,346,345,3,453,5,346,354,25,23,354,235,235}</pre></td></tr><tr><td><pre>{1,7,34,74,98,154,163,178,200,210,250,279,325,352,360}</pre></td></tr><tr><td><pre>50</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3693.6800093457805</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
